<!-- update-user-dialog.component.html -->
<h1 mat-dialog-title>Update User Information</h1>
<div mat-dialog-content>
  <form [formGroup]="updateForm" (ngSubmit)="onSubmit()">
    <!-- Username -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Username</mat-label>
      <input matInput formControlName="username" required />
      <mat-error *ngIf="updateForm.get('username')?.hasError('required')">
        Username is required
      </mat-error>
    </mat-form-field>

    <!-- Email -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" required />
      <mat-error *ngIf="updateForm.get('email')?.hasError('required')">
        Email is required
      </mat-error>
      <mat-error *ngIf="updateForm.get('email')?.hasError('email')">
        Please enter a valid email
      </mat-error>
    </mat-form-field>

    <!-- First Name -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>First Name</mat-label>
      <input matInput formControlName="firstName" required />
      <mat-error *ngIf="updateForm.get('firstName')?.hasError('required')">
        First Name is required
      </mat-error>
    </mat-form-field>

    <!-- Last Name -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Last Name</mat-label>
      <input matInput formControlName="lastName" required />
      <mat-error *ngIf="updateForm.get('lastName')?.hasError('required')">
        Last Name is required
      </mat-error>
    </mat-form-field>

    <!-- Address -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Address</mat-label>
      <input matInput formControlName="address" />
    </mat-form-field>

    <!-- Phone Number -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Phone Number</mat-label>
      <input matInput formControlName="phoneNumber" />
    </mat-form-field>

    <!-- Nationality -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Nationality</mat-label>
      <input matInput formControlName="nationality" />
    </mat-form-field>

    <!-- Status -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Status</mat-label>
      <input matInput type="number" formControlName="status" required />
      <mat-error *ngIf="updateForm.get('status')?.hasError('required')">
        Status is required
      </mat-error>
    </mat-form-field>

    <!-- Role -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Role</mat-label>
      <input matInput type="number" formControlName="role" required />
      <mat-error *ngIf="updateForm.get('role')?.hasError('required')">
        Role is required
      </mat-error>
    </mat-form-field>

    <!-- Company -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Company</mat-label>
      <input matInput formControlName="company" />
    </mat-form-field>

    <!-- Type -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Type</mat-label>
      <input matInput formControlName="type" />
    </mat-form-field>

    <!-- Display error message if any -->
    <div *ngIf="error" class="error-message">
      {{ error }}
    </div>
  </form>
</div>
<div mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()" [disabled]="isSubmitting">Cancel</button>
  <button mat-button color="primary" (click)="onSubmit()" [disabled]="isSubmitting || updateForm.invalid">
    Update
  </button>
</div>
